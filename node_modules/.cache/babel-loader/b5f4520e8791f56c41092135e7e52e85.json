{"ast":null,"code":"import _regeneratorRuntime from\"/Users/maryna/Desktop/projects/test-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/maryna/Desktop/projects/test-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/maryna/Desktop/projects/test-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback}from\"react\";var useFetchData=function useFetchData(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var skipError=function skipError(){setError(false);};var sendRequest=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(config,dataProcess){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setError(\"\");_context.next=4;return fetch(config.url,{method:config.method?config.method:\"GET\",headers:config.headers?config.headers:{},body:config.body?config.body:null});case 4:response=_context.sent;_context.next=7;return response.json();case 7:result=_context.sent;dataProcess(result);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);setError(_context.t0.message);case 14:_context.prev=14;return _context.finish(14);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,11,14,16]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[]);return[error,skipError,sendRequest];};export default useFetchData;","map":{"version":3,"names":["useState","useCallback","useFetchData","error","setError","skipError","sendRequest","config","dataProcess","fetch","url","method","headers","body","response","json","result","message"],"sources":["/Users/maryna/Desktop/projects/test-app/src/hooks/useFetchData.js"],"sourcesContent":["import { useState, useCallback } from \"react\";\n\nconst useFetchData = () => {\n  const [error, setError] = useState(\"\");\n  const skipError = () => {\n    setError(false);\n  };\n  const sendRequest = useCallback(async (config, dataProcess) => {\n    try {\n      setError(\"\");\n      const response = await fetch(config.url, {\n        method: config.method ? config.method : \"GET\",\n        headers: config.headers ? config.headers : {},\n        body: config.body ? config.body : null,\n      });\n      const result = await response.json();\n      dataProcess(result);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n    }\n  }, []);\n\n  return [error, skipError, sendRequest];\n};\n\nexport default useFetchData;\n"],"mappings":"uYAAA,OAASA,QAAT,CAAmBC,WAAnB,KAAsC,OAAtC,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eACA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtBD,QAAQ,CAAC,KAAD,CAAR,CACD,CAFD,CAGA,GAAME,YAAW,CAAGL,WAAW,4FAAC,iBAAOM,MAAP,CAAeC,WAAf,wJAE5BJ,QAAQ,CAAC,EAAD,CAAR,CAF4B,sBAGLK,MAAK,CAACF,MAAM,CAACG,GAAR,CAAa,CACvCC,MAAM,CAAEJ,MAAM,CAACI,MAAP,CAAgBJ,MAAM,CAACI,MAAvB,CAAgC,KADD,CAEvCC,OAAO,CAAEL,MAAM,CAACK,OAAP,CAAiBL,MAAM,CAACK,OAAxB,CAAkC,EAFJ,CAGvCC,IAAI,CAAEN,MAAM,CAACM,IAAP,CAAcN,MAAM,CAACM,IAArB,CAA4B,IAHK,CAAb,CAHA,QAGtBC,QAHsB,qCAQPA,SAAQ,CAACC,IAAT,EARO,QAQtBC,MARsB,eAS5BR,WAAW,CAACQ,MAAD,CAAX,CAT4B,iFAW5BZ,QAAQ,CAAC,YAAMa,OAAP,CAAR,CAX4B,+HAAD,mEAc5B,EAd4B,CAA/B,CAgBA,MAAO,CAACd,KAAD,CAAQE,SAAR,CAAmBC,WAAnB,CAAP,CACD,CAtBD,CAwBA,cAAeJ,aAAf"},"metadata":{},"sourceType":"module"}