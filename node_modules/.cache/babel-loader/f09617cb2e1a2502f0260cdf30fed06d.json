{"ast":null,"code":"import{useRef}from\"react\";import classes from\"./FeedbackForm.module.css\";import{useSelector,useDispatch}from\"react-redux\";import{formActions}from\"../../store/form\";import{Button,Form,FormTitle,InputEmail,InputMessage,InputName}from\"./FeedbackForm.styled\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FeedbackForm=function FeedbackForm(props){var nameRef=useRef();var emailRef=useRef();var messageRef=useRef();var dispatch=useDispatch();var name=useSelector(function(state){return state.form.name.value;});var email=useSelector(function(state){return state.form.email.value;});var message=useSelector(function(state){return state.form.message.value;});var isNameValid=useSelector(function(state){return state.form.name.isValid;});var isEmailValid=useSelector(function(state){return state.form.email.isValid;});var isMessageValid=useSelector(function(state){return state.form.message.isValid;});var isFormValid=useSelector(function(state){return state.form.isFormValid;});var ErrorMessage=\"Data filled out incorrect! Name must be text(length 3-64), Message must be text(length 3-1024 ), Email must be valid e - mail(length < 65).\";var textValidationFunction=function textValidationFunction(val){var maxLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1024;var minLength=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return val!==\"\"&&val.length>=minLength&&val.length<=maxLength;};var emailValidationFunction=function emailValidationFunction(val){var maxLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:64;if(val.length>maxLength)return false;return /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/.test(val);};var nameChangeHandler=function nameChangeHandler(){dispatch(formActions.setName({value:nameRef.current.value,isValid:textValidationFunction(nameRef.current.value,64)}));};var emailChangeHandler=function emailChangeHandler(){dispatch(formActions.setEmail({value:emailRef.current.value,isValid:emailValidationFunction(emailRef.current.value)}));};var messageChangeHandler=function messageChangeHandler(){dispatch(formActions.setMessage({value:messageRef.current.value,isValid:textValidationFunction(messageRef.current.value)}));};var buttonClickHandler=function buttonClickHandler(event){event.preventDefault();if(!isFormValid){nameChangeHandler();emailChangeHandler();messageChangeHandler();dispatch(formActions.setModalMessage(ErrorMessage));dispatch(formActions.showModal());}else{props.storeMessage();}};return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(FormTitle,{children:\"Reach out to us!\"}),/*#__PURE__*/_jsx(InputName,{className:isNameValid?classes[\"form-input\"]:\"\".concat(classes[\"input-invalid\"],\" \").concat(classes[\"form-input\"]),value:name,onChange:nameChangeHandler,ref:nameRef}),/*#__PURE__*/_jsx(InputEmail,{className:isEmailValid?classes[\"form-input\"]:\"\".concat(classes[\"input-invalid\"],\" \").concat(classes[\"form-input\"]),value:email,onChange:emailChangeHandler,ref:emailRef}),/*#__PURE__*/_jsx(InputMessage,{className:isMessageValid?classes[\"form-input\"]:\"\".concat(classes[\"input-invalid\"],\" \").concat(classes[\"form-input\"]),value:message,onChange:messageChangeHandler,ref:messageRef}),/*#__PURE__*/_jsx(Button,{onClick:buttonClickHandler,children:\"Send message\"})]});};export default FeedbackForm;","map":{"version":3,"names":["useRef","classes","useSelector","useDispatch","formActions","Button","Form","FormTitle","InputEmail","InputMessage","InputName","FeedbackForm","props","nameRef","emailRef","messageRef","dispatch","name","state","form","value","email","message","isNameValid","isValid","isEmailValid","isMessageValid","isFormValid","ErrorMessage","textValidationFunction","val","maxLength","minLength","length","emailValidationFunction","test","nameChangeHandler","setName","current","emailChangeHandler","setEmail","messageChangeHandler","setMessage","buttonClickHandler","event","preventDefault","setModalMessage","showModal","storeMessage"],"sources":["/Users/maryna/Desktop/projects/test-app/src/componemnts/Feedback/FeedbackForm.js"],"sourcesContent":["import { useRef } from \"react\";\nimport classes from \"./FeedbackForm.module.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { formActions } from \"../../store/form\";\nimport {\n  Button,\n  Form,\n  FormTitle,\n  InputEmail,\n  InputMessage,\n  InputName,\n} from \"./FeedbackForm.styled\";\n\nconst FeedbackForm = (props) => {\n  const nameRef = useRef();\n  const emailRef = useRef();\n  const messageRef = useRef();\n  const dispatch = useDispatch();\n  const name = useSelector((state) => state.form.name.value);\n  const email = useSelector((state) => state.form.email.value);\n  const message = useSelector((state) => state.form.message.value);\n  const isNameValid = useSelector((state) => state.form.name.isValid);\n  const isEmailValid = useSelector((state) => state.form.email.isValid);\n  const isMessageValid = useSelector((state) => state.form.message.isValid);\n  const isFormValid = useSelector((state) => state.form.isFormValid);\n  const ErrorMessage =\n    \"Data filled out incorrect! Name must be text(length 3-64), Message must be text(length 3-1024 ), Email must be valid e - mail(length < 65).\";\n  const textValidationFunction = (val, maxLength = 1024, minLength = 3) => {\n    return val !== \"\" && val.length >= minLength && val.length <= maxLength;\n  };\n  const emailValidationFunction = (val, maxLength = 64) => {\n    if (val.length > maxLength) return false;\n    return /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/.test(val);\n  };\n  const nameChangeHandler = () => {\n    dispatch(\n      formActions.setName({\n        value: nameRef.current.value,\n        isValid: textValidationFunction(nameRef.current.value, 64),\n      })\n    );\n  };\n  const emailChangeHandler = () => {\n    dispatch(\n      formActions.setEmail({\n        value: emailRef.current.value,\n        isValid: emailValidationFunction(emailRef.current.value),\n      })\n    );\n  };\n  const messageChangeHandler = () => {\n    dispatch(\n      formActions.setMessage({\n        value: messageRef.current.value,\n        isValid: textValidationFunction(messageRef.current.value),\n      })\n    );\n  };\n  const buttonClickHandler = (event) => {\n    event.preventDefault();\n    if (!isFormValid) {\n      nameChangeHandler();\n      emailChangeHandler();\n      messageChangeHandler();\n      dispatch(formActions.setModalMessage(ErrorMessage));\n      dispatch(formActions.showModal());\n    } else {\n      props.storeMessage();\n    }\n  };\n\n  return (\n    <Form>\n      <FormTitle>Reach out to us!</FormTitle>\n      <InputName\n        className={\n          isNameValid\n            ? classes[\"form-input\"]\n            : `${classes[\"input-invalid\"]} ${classes[\"form-input\"]}`\n        }\n        value={name}\n        onChange={nameChangeHandler}\n        ref={nameRef}\n      />\n      <InputEmail\n        className={\n          isEmailValid\n            ? classes[\"form-input\"]\n            : `${classes[\"input-invalid\"]} ${classes[\"form-input\"]}`\n        }\n        value={email}\n        onChange={emailChangeHandler}\n        ref={emailRef}\n      />\n      <InputMessage\n        className={\n          isMessageValid\n            ? classes[\"form-input\"]\n            : `${classes[\"input-invalid\"]} ${classes[\"form-input\"]}`\n        }\n        value={message}\n        onChange={messageChangeHandler}\n        ref={messageRef}\n      ></InputMessage>\n      <Button onClick={buttonClickHandler}>Send message</Button>\n    </Form>\n  );\n};\n\nexport default FeedbackForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}